<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEE - Systematically Evading Excellence</title>
    <link rel="stylesheet" href="https://unpkg.com/98.css">
    <style>
        body {
            font-family: "MS Sans Serif", sans-serif;
            background: #008080;
            margin: 0;
            padding: 20px;
        }

        .desktop {
            background: #008080;
            min-height: 100vh;
            position: relative;
        }

        .window {
            margin: 20px auto;
            max-width: 900px;
        }

        .title-bar-text {
            font-weight: bold;
        }

        .todo-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .todo-list, .issue-list {
            flex: 1;
        }

        .todo-item, .issue-item {
            background: white;
            border: 2px inset #c0c0c0;
            padding: 10px;
            margin: 5px 0;
            cursor: pointer;
        }

        .todo-item:hover, .issue-item:hover {
            background: #316ac5;
            color: white;
        }

        .todo-meta {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
        }

        .loading {
            text-align: center;
            padding: 20px;
            font-style: italic;
        }

        .loading::after {
            content: "";
            animation: dots 2s infinite;
        }

        @keyframes dots {
            0%, 20% { content: ""; }
            40% { content: "."; }
            60% { content: ".."; }
            80%, 100% { content: "..."; }
        }

        .status-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 28px;
            background: #c0c0c0;
            border-top: 1px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 5px;
            font-size: 11px;
        }

        .start-button {
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: bold;
            cursor: pointer;
        }

        .start-button:active {
            border: 2px inset #c0c0c0;
        }

        .subtitle {
            color: #666;
            font-style: italic;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin: 15px 0;
        }

        .stat-item {
            background: #f0f0f0;
            border: 1px inset #c0c0c0;
            padding: 5px 10px;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div class="desktop">
        <div class="window">
            <div class="title-bar">
                <div class="title-bar-text">SEE - My Open Source Procrastination Dashboard</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize"></button>
                    <button aria-label="Maximize"></button>
                    <button aria-label="Close"></button>
                </div>
            </div>
            <div class="window-body">
                <h1>üëÄ SEE - Strategic Excellence Evaluation</h1>
                <p class="subtitle">
                    A centralized dashboard for tracking open source project tasks and community contributions
                </p>

                <div class="stats">
                    <div class="stat-item">
                        <strong>Task Priority:</strong> <span id="procrastination">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Development Mode:</strong> Active
                    </div>
                    <div class="stat-item">
                        <strong>Last Update:</strong> <span id="last-commit">Calculating...</span>
                    </div>
                </div>

                <fieldset>
                    <legend>üìù Current Project Backlog</legend>
                    <p>Feature requests, improvements, and technical debt items awaiting implementation</p>
                    <div id="todo-list" class="todo-list">
                        <div class="loading">Loading project tasks from database</div>
                    </div>
                </fieldset>

                <div class="todo-container">
                    <fieldset class="issue-list">
                        <legend>üêõ GitHub Issues: Community Feedback</legend>
                        <p>Bug reports and feature requests from the open source community</p>
                        <div id="issue-list">
                            <div class="loading">Fetching latest issues from repositories</div>
                        </div>
                    </fieldset>
                </div>

                <hr>
                <p style="font-size: 11px; color: #666; text-align: center;">
                    Powered by collaborative open source development and continuous improvement<br>
                    Built with 98.css for that nostalgic developer experience
                </p>
            </div>
        </div>
    </div>

    <div class="status-bar">
        <button class="start-button">Start</button>
        <span style="margin-left: 10px;">Development Environment | Status: Online | Mode: Collaborative</span>
        <span style="margin-left: auto;" id="clock"></span>
    </div>

    <script>
        // Load todos from JSON file
        async function fetchTodos() {
            try {
                const response = await fetch('./todos.json');
                return await response.json();
            } catch (error) {
                console.error('Failed to load todos:', error);
                return [
                    {
                        name: "Fix the JSON loader",
                        description: "Apparently even loading a simple JSON file is too complicated for me.",
                        project: "this-very-page",
                        link: "#"
                    }
                ];
            }
        }

        // Clock function
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toLocaleTimeString();
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Priority level calculator
        function calculatePriority() {
            const levels = ['High', 'Critical', 'Urgent', 'Standard', 'Scheduled'];
            return levels[Math.floor(Math.random() * levels.length)];
        }

        // Load todos with realistic delay for dramatic effect
        async function loadTodos() {
            setTimeout(async () => {
                document.getElementById('procrastination').textContent = calculatePriority();
                document.getElementById('last-commit').textContent = 'Recently';

                const todoList = document.getElementById('todo-list');
                todoList.innerHTML = '';

                const todos = await fetchTodos();

                todos.forEach(todo => {
                    const todoElement = document.createElement('div');
                    todoElement.className = 'todo-item';
                    todoElement.innerHTML = `
                        <strong>${todo.name}</strong><br>
                        <div style="margin: 5px 0; font-size: 12px;">${todo.description}</div>
                        <div class="todo-meta">
                            Project: <a href="${todo.link}" target="_blank">${todo.project}</a>
                            ${todo.priority ? `| Priority: ${todo.priority}` : ''}
                            ${todo.created ? `| Created: ${todo.created}` : ''}
                        </div>
                    `;
                    todoElement.addEventListener('click', () => {
                        if (todo.link !== '#') {
                            window.open(todo.link, '_blank');
                        }
                    });
                    todoList.appendChild(todoElement);
                });
            }, 2000);
        }

        // Fetch GitHub issues (you'll need to replace with your actual repos)
        async function loadGitHubIssues() {
            const repos = [
                'bouteillerAlan/earbud-companion'
                // Add more repos here
            ];

            setTimeout(async () => {
                const issueList = document.getElementById('issue-list');
                issueList.innerHTML = '';

                try {
                    for (const repo of repos) {
                        const response = await fetch(`https://api.github.com/repos/${repo}/issues?state=open&per_page=5`);
                        const issues = await response.json();

                        issues.forEach(issue => {
                            const issueElement = document.createElement('div');
                            issueElement.className = 'issue-item';
                            issueElement.innerHTML = `
                                <strong>#${issue.number}: ${issue.title}</strong><br>
                                <div style="margin: 5px 0; font-size: 12px;">${issue.body ? issue.body.substring(0, 100) + '...' : 'No description (because why make life easy?)'}</div>
                                <div class="todo-meta">
                                    Repo: ${repo} | Created: ${new Date(issue.created_at).toLocaleDateString()}
                                </div>
                            `;
                            issueElement.addEventListener('click', () => {
                                window.open(issue.html_url, '_blank');
                            });
                            issueList.appendChild(issueElement);
                        });
                    }
                } catch (error) {
                    issueList.innerHTML = '<div class="loading">Unable to fetch issues (API rate limit or network issue)</div>';
                }
            }, 3000);
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            loadTodos();
            loadGitHubIssues();
        });
    </script>
</body>
</html>