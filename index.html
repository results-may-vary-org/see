<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>See - Tasks and issues viewer</title>
    <link rel="stylesheet" href="https://unpkg.com/98.css">
    <script src="https://unpkg.com/cursor-effects@latest/dist/browser.js"></script>
    <script type="module">
        import { animate } from "https://cdn.jsdelivr.net/npm/motion@latest/+esm"
        window.motionAnimate = animate;
    </script>
    <style>
        body {
            font-family: "MS Sans Serif", sans-serif;
            background: #008080;
            margin: 0;
            padding: 0;
            font-size: 14px;
            overflow: hidden;
        }

        .desktop {
            background: #008080;
            height: 100vh;
            width: 100vw;
            position: relative;
            overflow: hidden;
        }

        .window {
            position: absolute;
            height: auto;
            min-height: 200px;
            max-height: 60vh;
            min-width: 300px;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            user-select: none;
            resize: both;
            overflow: hidden;
        }

        .window.dragging {
            z-index: 200;
        }

        .title-bar {
            cursor: move;
        }

        .window-body {
            height: auto;
            min-height: calc(200px - 40px);
            max-height: calc(60vh - 40px);
            overflow-y: auto;
            padding: 10px;
            font-size: 13px;
        }

        #info-window {
            top: 20px;
            left: 20px;
            width: 500px;
        }

        #todo-window {
            top: 20px;
            left: 540px;
        }

        #issues-window {
            top: 20px;
            left: 900px;
        }

        #repos-window {
            top: 100px;
            left: 300px;
            width: 600px;
            min-width: 500px;
            resize: both;
        }

        .sunken-panel {
            height: 200px;
            width: 100%;
            overflow: auto;
        }

        /* Repository table responsiveness */
        .repos-table-container {
            width: 100%;
            overflow-x: auto;
        }

        #repos-table {
            width: 100%;
            min-width: 480px;
            table-layout: auto;
            font-size: 11px;
        }

        #repos-table th,
        #repos-table td {
            padding: 3px 6px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Repository name column */
        #repos-table th:nth-child(1),
        #repos-table td:nth-child(1) {
            max-width: 160px;
            min-width: 120px;
        }

        /* Issues column */
        #repos-table th:nth-child(2),
        #repos-table td:nth-child(2) {
            width: 50px;
            text-align: center;
        }

        /* Stars column */
        #repos-table th:nth-child(3),
        #repos-table td:nth-child(3) {
            width: 50px;
            text-align: center;
        }

        /* Forks column */
        #repos-table th:nth-child(4),
        #repos-table td:nth-child(4) {
            width: 50px;
            text-align: center;
        }

        /* Status column */
        #repos-table th:nth-child(5),
        #repos-table td:nth-child(5) {
            width: 70px;
        }

        /* Mobile notice */
        .mobile-notice {
            display: none;
            background: #ffffcc;
            border: 2px inset #c0c0c0;
            padding: 15px;
            margin: 10px 20px;
            text-align: center;
            font-size: 13px;
        }

        @media (max-width: 900px) {
            .mobile-notice {
                display: block;
            }

            #repos-window {
                width: 85vw;
                min-width: auto;
            }

            #repos-table th:first-child,
            #repos-table td:first-child {
                max-width: 150px;
                min-width: 100px;
            }

            .sunken-panel {
                height: calc(40vh - 40px);
                max-height: calc(40vh - 40px);
                overflow-y: auto;
            }
        }

        /* Error dialog styles */
        .error-dialog {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10000;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            width: 400px;
            font-size: 12px;
        }

        .error-dialog .title-bar {
            background: #000080;
            color: white;
            padding: 2px 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .error-dialog .dialog-body {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .error-icon {
            width: 32px;
            height: 32px;
            background: red;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }

        .retry-button {
            margin: 10px auto;
            display: block;
            padding: 4px 12px;
            font-size: 12px;
        }

        .support-links {
            margin: 15px 0;
            padding: 10px;
            background: #f0f0f0;
            border: 1px inset #c0c0c0;
        }

        .support-links a {
            color: #0000ee;
            text-decoration: underline;
            margin: 0 5px;
        }

        .support-links a:visited {
            color: #551a8b;
        }

        /* Responsive design for small screens */
        @media (max-width: 900px) {
            .desktop {
                display: flex;
                flex-direction: column;
                overflow-y: auto;
                padding: 10px 0;
                gap: 15px;
                height: 100vh;
                padding-bottom: 0;
            }

            .window {
                position: static;
                width: 90vw;
                max-width: 90vw;
                margin: 0 auto;
                height: 90vh;
                max-height: 90vh;
                min-height: 90vh;
                resize: none;
                flex-shrink: 0;
            }

            .window-body {
                height: calc(90vh - 40px);
                max-height: calc(90vh - 40px);
                min-height: calc(90vh - 40px);
                overflow-y: auto;
            }

            #info-window, #todo-window, #issues-window, #repos-window, #humor-window, #thanks-window {
                position: static;
                top: auto;
                left: auto;
            }

            /* Mobile API key dialog - position as second item */
            #api-key-dialog:not([style*="display: none"]) {
                position: static;
                width: 90vw;
                max-width: 90vw;
                margin: 0 auto;
                height: 90vh;
                max-height: 90vh;
                min-height: 90vh;
                transform: none;
                top: auto;
                left: auto;
                order: 2;
                flex-shrink: 0;
            }
            #api-key-dialog[style*="display: none"] {
                display: none !important;
            }

            #api-key-dialog .window-body {
                height: calc(90vh - 40px);
                max-height: calc(90vh - 40px);
                overflow-y: auto;
            }

            /* Ensure mobile notice comes first */
            .mobile-notice {
                order: 1;
                flex-shrink: 0;
            }

            /* Set order for windows to come after API dialog */
            #info-window {
                order: 3;
            }

            #todo-window {
                order: 4;
            }

            #issues-window {
                order: 5;
            }

            #repos-window {
                order: 6;
            }
            #humor-window {
                order: 7;
            }
            #thanks-window {
                order: 8;
            }

            /* Hide taskbar in mobile mode */
            .status-bar {
                display: none;
            }
        }

        .title-bar-text {
            font-weight: bold;
        }

        .todo-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .todo-list, .issue-list {
            flex: 1;
        }

        .todo-item, .issue-item {
            background: white;
            border: 2px inset #c0c0c0;
            padding: 10px;
            margin: 5px 0;
            cursor: pointer;
        }

        .todo-item:hover, .issue-item:hover {
            background: #316ac5;
            color: white;
        }

        .todo-meta {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
        }

        .loading {
            text-align: center;
            padding: 20px;
        }

        .progress-indicator {
            display: flex;
            gap: 2px;
            justify-content: center;
            margin: 10px 0;
        }

        .progress-segment {
            width: 20px;
            height: 20px;
            background: #c0c0c0;
            border: 1px inset #c0c0c0;
            animation: segment-fill 2s infinite;
        }

        .progress-segment:nth-child(1) { animation-delay: 0s; }
        .progress-segment:nth-child(2) { animation-delay: 0.2s; }
        .progress-segment:nth-child(3) { animation-delay: 0.4s; }
        .progress-segment:nth-child(4) { animation-delay: 0.6s; }
        .progress-segment:nth-child(5) { animation-delay: 0.8s; }
        .progress-segment:nth-child(6) { animation-delay: 1s; }
        .progress-segment:nth-child(7) { animation-delay: 1.2s; }
        .progress-segment:nth-child(8) { animation-delay: 1.4s; }

        @keyframes segment-fill {
            0%, 25% { background: #c0c0c0; border: 1px inset #c0c0c0; }
            50%, 75% { background: #0000ff; border: 1px outset #0000ff; }
            100% { background: #c0c0c0; border: 1px inset #c0c0c0; }
        }

        .status-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 28px;
            background: #c0c0c0;
            border-top: 1px solid #808080;
            display: flex;
            align-items: center;
            padding: 0 5px;
            font-size: 11px;
        }

        .start-button {
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: bold;
            cursor: pointer;
        }

        .start-button:active {
            border: 2px inset #c0c0c0;
        }

        .taskbar-buttons {
            display: flex;
            gap: 5px;
            margin-left: 10px;
        }

        .window-toggle-btn {
            background: #c0c0c0;
            border: 1px outset #c0c0c0;
            padding: 2px 8px;
            font-size: 11px;
            cursor: pointer;
            min-width: 100px;
            text-align: left;
        }

        .window-toggle-btn:active {
            border: 1px inset #c0c0c0;
        }

        .window-toggle-btn.active {
            border: 1px inset #c0c0c0;
            background: #316ac5;
            color: white;
        }

        .window.minimized {
            display: none;
        }

        .window.maximized {
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: calc(100vh - 28px) !important;
            max-height: none !important;
            resize: none !important;
        }

        .window.maximized .window-body {
            height: calc(100vh - 68px) !important;
            max-height: none !important;
        }

        /* Loading screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #008080;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            font-family: monospace;
            color: white;
            font-size: 12px;
            line-height: 1;
        }

        .ascii-logo {
            white-space: pre;
            transform: scale(0.1);
        }


        .api-key-input {
            width: 100%;
            padding: 4px;
            margin: 10px 0;
            font-size: 11px;
            font-family: monospace;
        }

        .rate-limit-info {
            background: #f0f0f0;
            border: 1px inset #c0c0c0;
            padding: 10px;
            margin: 10px 0;
            font-size: 11px;
        }

        .privacy-notice {
            background: #ffffcc;
            border: 1px solid #cccc00;
            padding: 8px;
            margin: 10px 0;
            font-size: 11px;
        }

        .dialog-buttons {
            text-align: right;
            margin-top: 15px;
        }

        .dialog-buttons button {
            margin-left: 10px;
            padding: 4px 12px;
        }

        .subtitle {
            color: #666;
            font-style: italic;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin: 15px 0;
        }

        .stat-item {
            background: #f0f0f0;
            border: 1px inset #c0c0c0;
            padding: 5px 10px;
            font-size: 11px;
        }

        #issues-window {
          width: 35vw;
        }

        /* Package list styling */
        .package-list {
            margin: 15px 0;
        }

        .package-item {
            background: #f0f0f0;
            border: 1px inset #c0c0c0;
            padding: 10px;
            margin: 10px 0;
            font-size: 11px;
        }

        .package-item strong {
            font-size: 12px;
            color: #000080;
        }

        .package-author {
            color: #666;
            font-style: italic;
        }

        .package-item a {
            color: #0000ee;
            text-decoration: underline;
            word-break: break-all;
        }

        .package-item a:visited {
            color: #551a8b;
        }

        .package-item em {
            color: #333;
            display: block;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="ascii-logo">
                                        ...:@@
                                            ...-@@:
                                            ..:@%-
                                         :--    ...@@@-
                                            .---..@@@@.@@@@@
                                        .:..:--    ...+@@@@.@@@@@:.:.:::.:::::
                                    ...--:    ..:---:..::..@@@@@=:@@@@@:@@@@@@@@@@@@-:
                                        ...---..---:.----::@@@@@:@@@@@:@@@@@@@@@@@@@@@@@+:
                                     ..:..-::    ...-----.-----.:.::--:++**#@@@@@@@@@@@@@@@#:
                                    .%%:    ..----...:...-----:@@@@@@.----------@@@@@@@@@@@@@@:
                                        :@@:.:---::----.-----::@@@@@:----------@@@@====+@@@@@@@@:
                                        *=:    ...----::-----.::::-:----------@@@@========@@@@@@@@
                                ..:++    ...@@@@    ..:-----.@@@@@@:---------*@@@==========@@@@@@=
                                     .-++::@@@@.%@@@@.----:.@@@@@@:----------@@@@=========*@@@@@@
                                    .:=::    ..:@@@@:@@@@@-::::.-:----------@@@@==========@@@@@@
                                :--    ...+++:    ..-@@@@@:@@@@@:@@@@@@@@@%@@@@==========@@@@@@:
                                    +++..++++.+++++:@@@%=.@@@@@@=@@@@@@@@@@@@@@@========@@@@@@-
                            ...:=..:.:    ...=++++.+++++:::-=+#:+++++++++@@@@@@@@@@#===*@@@@@@
                           ...+=:    ..:+++:    ..+++++-=@@@@@:++++++++++@@@@--%@@@@@@=@@@@@@
                                .:@@%.:++=:.++++:-++==-:@@@@@:++++++++++@@@@------=@@@@@@@@@:
                                .:.:    ...+++++:+++++.::-=+*-+++++++++#@@@----------@@@@@@-
                                    .@@@@    ...+++++:@@@@@@:++++++++++@@@@---------%@@@@@@
                                    =@%#.:@@@@.+=-:::-@@@@@:++++++++++@@@@----------@@@@@@
                                         @@@@:=@@@@@:::-+#:@@@@@@%+++@@@@----------@@@@@@:
                                            .:@@@@@.@@@@@%+@@@@@@@@@@@@@=---------@@@@@@:
                                            .#-:::.@@@@@@:@@@@@@@@@@@@@@@@@@:----#@@@@@@
                                                                .:-@@@@@@@@@@@@--@@@@@@
                                                                    ...:@@@@@@@@@@@@@@
                                                                       .:.:@@@@@@@@@@:
                                                                            .-@@@@@@@
                                                          @@@@@@@   +@@@@    ..:@@@@
                              @@@@@                        @@@@@   @@@@@@        -@:
                              @@ @@   @@@@@@       @@@@@@  #@@@@@ @@*
                              @@@@@   @@@@@@@     @@@@@@@   @@@@@@@=
                              @@ @@   @@@@ @@@   @@@ @@@@   @@@@@@:
                              @@ @@   @@@@  @@@.@@@  @@@@   %@@@@:
                              @@ @@   @@@@   @@@@@   @@@@    @@@
        </div>
    </div>
    <div class="desktop">

        <!-- Mobile Notice -->
        <div class="mobile-notice">
            <strong>📱 Mobile Notice</strong><br>
            This site is optimized for desktop viewing. For the best experience with draggable windows, interactive features, and full functionality, please visit on a PC or laptop with a larger screen.
        </div>


        <!-- General Information Window -->
        <div id="info-window" class="window">
            <div class="title-bar">
                <div class="title-bar-text">📊 See - Dashboard Overview</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow('info-window')"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow('info-window')"></button>
                    <button aria-label="Close" onclick="minimizeWindow('info-window')"></button>
                </div>
            </div>
            <div class="window-body">
              <h2>See - All the Rm<i>V</i> tasks & issues in one place</h2>
                <p class="subtitle">
                    Where todos go to become "someday maybes" and issues accumulate like browser tabs
                </p>

                <div class="stats">
                    <div class="stat-item">
                        <strong>Chaos Level:</strong> <span id="procrastination">Loading...</span>
                    </div>
                    <div class="stat-item">
                        <strong>Coffee Dependency:</strong> Critical
                    </div>
                    <div class="stat-item">
                        <strong>Last Update:</strong> <span id="last-commit">Calculating...</span>
                    </div>
                </div>

                <hr>
                <h3>📋 About This Dashboard</h3>
                <p>This site serves as a centralized hub to display all todos and GitHub issues for my open source projects. It's a transparent way to track what I'm working on, what's broken, and what I'm strategically avoiding.</p>
                <p>I have created this because I'm very busy (you know family, work & stuff :)) like so people (and me) can see all of this in a glance, with style!</p>

                <div class="support-links">
                    <strong>💝 Support My Work:</strong><br>
                    <a href="https://www.pling.com/u/a2-n" target="_blank">🛒 Pling Store - My Projects</a>
                    <a href="https://github.com/bouteillerAlan" target="_blank">👨‍💻 GitHub Profile</a><br>
                    <strong>🤝 Organization:</strong><br>
                    <a href="https://github.com/results-may-vary-org" target="_blank">🏢 Results May Vary - GitHub</a>
                    <a href="https://results-may-vary-org.github.io/rmv-frontpage/" target="_blank">🌐 RMV Website</a><br>
                    <strong>📦 Arch Linux:</strong><br>
                    <a href="https://aur.archlinux.org/packages?SeB=m&K=a2n" target="_blank">🏛️ AUR Packages</a>
                </div>

                <hr>
                <p style="font-size: 11px; color: #666; text-align: center;">
                    Powered by pure hoby and the naive belief that "this time will be different"<br>
                    Built with 98.css because sometimes you need to embrace the aesthetic of your productivity level (and this is a cool packages!)
                </p>
            </div>
        </div>

        <!-- Todo Window -->
        <div id="todo-window" class="window">
            <div class="title-bar">
                <div class="title-bar-text">📝 The Eternal Todo Backlog</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow('todo-window')"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow('todo-window')"></button>
                    <button aria-label="Close" onclick="minimizeWindow('todo-window')"></button>
                </div>
            </div>
            <div class="window-body">
                <p>Tasks that seemed like a good idea at 3 AM, professionally avoiding completion since then</p>
                <code>Total: <span id="todo-count">0</span></code>
                <div id="todo-list" class="todo-list">
                    <div class="loading">
                        Consulting the crystal ball of perpetual procrastination
                    </div>
                </div>
            </div>
        </div>

        <!-- Issues Window -->
        <div id="issues-window" class="window">
            <div class="title-bar">
                <div class="title-bar-text">🐛 GitHub Issues</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow('issues-window')"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow('issues-window')"></button>
                    <button aria-label="Close" onclick="minimizeWindow('issues-window')"></button>
                </div>
            </div>
            <div class="window-body">
                <p>Community-sourced evidence of my inability to ship bug-free code</p>
                <code>Total: <span id="issue-count">0</span></code>
                <div id="issues-progress" style="text-align: center; font-size: 11px; color: #666; margin-bottom: 10px; display: none;">
                    Loading issues... (<span id="issues-current">0</span>/<span id="issues-total">0</span>)
                </div>
                <div id="issue-list">
                    <div class="loading">
                        Fetching digital embarrassments from the cloud
                    </div>
                </div>
            </div>
        </div>

        <!-- Repository List Window -->
        <div id="repos-window" class="window">
            <div class="title-bar">
                <div class="title-bar-text">📁 Repository Overview</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow('repos-window')"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow('repos-window')"></button>
                    <button aria-label="Close" onclick="minimizeWindow('repos-window')"></button>
                </div>
            </div>
            <div class="window-body">
                <p>Your collection of digital ambitions and abandoned dreams</p>
                <div id="repo-progress" style="text-align: center; font-size: 11px; color: #666; margin-bottom: 10px; display: none;">
                    Loading repositories... (<span id="repo-current">0</span>/<span id="repo-total">0</span>)
                </div>
                <div class="sunken-panel">
                    <div class="repos-table-container">
                        <table class="interactive" id="repos-table">
                            <thead>
                                <tr>
                                    <th>Repository</th>
                                    <th>Issues</th>
                                    <th>⭐</th>
                                    <th>🍴</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="repos-tbody">
                                <tr>
                                    <td colspan="5" style="text-align: center;">
                                        <div class="loading">
                                            Cataloging repositories of regret
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Humor/Contact Window -->
        <div id="humor-window" class="window minimized" style="top: 420px; left: 600px;">
            <div class="title-bar">
                <div class="title-bar-text">🎭 About My Sense of Humor</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow('humor-window')"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow('humor-window')"></button>
                    <button aria-label="Close" onclick="minimizeWindow('humor-window')"></button>
                </div>
            </div>
            <div class="window-body">
                <p>You've survived my questionable sense of humor this far... Impressive! 🎉</p>
                <p>If you somehow want to talk or work with me (despite the evidence above), feel free to connect:</p>
                <div style="text-align: center; margin: 15px 0;">
                    <a href="https://www.linkedin.com/in/a2n/" target="_blank" style="color: #0000ee; text-decoration: underline; font-weight: bold;">
                        💼 LinkedIn Profile
                    </a>
                </div>
                <p style="font-size: 11px; color: #666; text-align: center;">
                    Warning: professional mode may still contain traces of jokes.
                </p>
            </div>
        </div>

        <!-- Thanks Window -->
        <div id="thanks-window" class="window minimized" style="top: 320px; left: 700px;">
            <div class="title-bar">
                <div class="title-bar-text">🙏 Thanks & Credits</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow('thanks-window')"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow('thanks-window')"></button>
                    <button aria-label="Close" onclick="minimizeWindow('thanks-window')"></button>
                </div>
            </div>
            <div class="window-body">
                <p>This project wouldn't exist without these amazing open source packages and libraries:</p>

                <div class="package-list">
                    <div class="package-item">
                        <strong>98.css</strong><br>
                        <span class="package-author">by Jordan Scales</span><br>
                        <a href="https://github.com/jdan/98.css" target="_blank">https://github.com/jdan/98.css</a><br>
                        <em>A design system for building faithful recreations of old UIs</em>
                    </div>

                    <div class="package-item">
                        <strong>cursor-effects</strong><br>
                        <span class="package-author">by Tim Holman</span><br>
                        <a href="https://github.com/tholman/cursor-effects" target="_blank">https://github.com/tholman/cursor-effects</a><br>
                        <em>Only 90's kids remember... well not really, but these beloved effects that would follow your mouse around will always be classic</em>
                    </div>

                    <div class="package-item">
                        <strong>Motion</strong><br>
                        <span class="package-author">by Matt Perry</span><br>
                        <a href="https://github.com/motiondivision/motion" target="_blank">https://github.com/motiondivision/motion</a><br>
                        <em>A new animation library, built on the Web Animations API for the smallest filesize and the fastest performance</em>
                    </div>
                </div>

                <hr style="margin: 20px 0;">
                <p style="font-size: 11px; color: #666; text-align: center;">
                    Special thanks to all the maintainers and contributors of these projects! 💝<br>
                    Open source makes the world go round 🌍
                </p>
            </div>
        </div>

        <!-- API Key Dialog -->
        <div id="api-key-dialog" class="window" style="top: 200px; left: 300px; display: none;">
            <div class="title-bar">
                <div class="title-bar-text">🔑 GitHub API Configuration</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow('api-key-dialog')"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow('api-key-dialog')"></button>
                    <button aria-label="Close" onclick="closeApiKeyDialog()"></button>
                </div>
            </div>
            <div class="window-body">
                <h3>GitHub Rate Limit Reached</h3>
                <p>To continue loading repository data, you can provide a GitHub Personal Access Token to increase your rate limit from 60 to 5,000 requests per hour.</p>

                <div class="privacy-notice">
                    <strong>🔒 Privacy Notice:</strong> Your API key is only used temporarily and is not stored anywhere. It exists only in your browser's memory during this session.
                </div>

                <label for="github-token">GitHub Personal Access Token:</label>
                <input type="password" id="github-token" class="api-key-input" placeholder="ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">

                <p style="font-size: 11px;">
                    <strong>How to create a token:</strong><br>
                    1. Go to <a href="https://github.com/settings/tokens/new" target="_blank">GitHub Token Settings</a><br>
                    2. Click "Generate new token (classic)"<br>
                    3. Set expiration and select scopes (no scopes needed for public repos)<br>
                    4. Copy the token and paste it above
                </p>

                <div class="rate-limit-info" id="rate-limit-info">
                    <strong>Current Rate Limit Status:</strong><br>
                    <span id="rate-limit-text">Loading...</span>
                </div>

                <div class="dialog-buttons">
                    <button onclick="checkRateLimit()">🔄 Check Rate Limit</button>
                    <button onclick="applyApiKey()">✅ Apply Token</button>
                </div>
            </div>
        </div>
    </div>

    <div class="status-bar">
        <button class="start-button" onclick="showErrorDialog()">Start</button>
        <div class="taskbar-buttons">
            <button class="window-toggle-btn" onclick="toggleWindow('info-window')" id="info-btn">📊 Dashboard</button>
            <button class="window-toggle-btn" onclick="toggleWindow('todo-window')" id="todo-btn">📝 Todos</button>
            <button class="window-toggle-btn" onclick="toggleWindow('issues-window')" id="issues-btn">🐛 Issues</button>
            <button class="window-toggle-btn" onclick="toggleWindow('repos-window')" id="repos-btn">📁 Repos</button>
            <button class="window-toggle-btn" onclick="toggleWindow('humor-window')" id="humor-btn">🎭 About</button>
            <button class="window-toggle-btn" onclick="toggleWindow('thanks-window')" id="thanks-btn">🙏 Thanks</button>
        </div>
        <span style="margin-left: auto;" id="clock"></span>
    </div>

    <script>
        // GitHub API Token management
        let githubToken = null;
        let isRateLimited = false;

        function showApiKeyDialog() {
            const dialog = document.getElementById('api-key-dialog');
            dialog.style.display = 'block';
            dialog.classList.remove('minimized');
            bringWindowToFront(dialog);
            checkRateLimit(); // Check current rate limit when dialog opens
        }

        function closeApiKeyDialog() {
            const dialog = document.getElementById('api-key-dialog');
            dialog.style.display = 'none';
            dialog.classList.add('minimized');
            const titleBar = dialog.querySelector('.title-bar');
            if (titleBar) titleBar.classList.add('inactive');
        }

        function applyApiKey() {
            const token = document.getElementById('github-token').value.trim();
            if (token) {
                githubToken = token;
                isRateLimited = false; // Reset rate limit flag
                //closeApiKeyDialog();
                // Restart loading with the new token
                loadRepositories();
                loadGitHubIssues();
            } else {
                alert('Please enter a valid GitHub token');
            }
        }

        async function checkRateLimit() {
            const rateLimitText = document.getElementById('rate-limit-text');
            rateLimitText.textContent = 'Checking...';

            try {
                const token = document.getElementById('github-token').value.trim();
                const headers = {
                    'Accept': 'application/vnd.github+json',
                    'X-GitHub-Api-Version': '2022-11-28'
                };

                if (token) {
                    headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch('https://api.github.com/rate_limit', { headers });
                const data = await response.json();

                if (response.ok) {
                    const core = data.resources.core;
                    const remaining = core.remaining;
                    const limit = core.limit;
                    const resetTime = new Date(core.reset * 1000).toLocaleTimeString();

                    rateLimitText.innerHTML = `
                        <strong>Requests:</strong> ${remaining}/${limit} remaining<br>
                        <strong>Resets at:</strong> ${resetTime}<br>
                        <strong>Status:</strong> ${remaining > 0 ? '✅ Available' : '❌ Rate Limited'}
                    `;
                } else {
                    rateLimitText.textContent = `Error: ${data.message || 'Failed to check rate limit'}`;
                }
            } catch (error) {
                rateLimitText.textContent = `Error: ${error.message}`;
            }
        }

        // Helper function to make GitHub API requests with optional token
        async function makeGitHubRequest(url) {
            const headers = {
                'Accept': 'application/vnd.github+json',
                'X-GitHub-Api-Version': '2022-11-28'
            };

            if (githubToken) {
                headers['Authorization'] = `Bearer ${githubToken}`;
            }

            const response = await fetch(url, { headers });

            // If rate limited, show API key dialog and set flag
            if (response.status === 403 && response.headers.get('x-ratelimit-remaining') === '0') {
                isRateLimited = true;
                showApiKeyDialog();
                throw new Error('Rate limit exceeded');
            }

            return response;
        }

        // Window management functions
        function minimizeWindow(windowId) {
            const window = document.getElementById(windowId);
            const taskbarBtn = document.getElementById(windowId.replace('-window', '-btn'));

            window.classList.add('minimized');
            const titleBar = window.querySelector('.title-bar');
            if (titleBar) titleBar.classList.add('inactive');
            taskbarBtn.classList.remove('active');
        }

        function maximizeWindow(windowId) {
            const window = document.getElementById(windowId);
            const taskbarBtn = document.getElementById(windowId.replace('-window', '-btn'));

            if (window.classList.contains('maximized')) {
                window.classList.remove('maximized');
            } else {
                window.classList.add('maximized');
                window.classList.remove('minimized');
                taskbarBtn.classList.add('active');
                // Bring window to front when maximized
                bringWindowToFront(window);
            }
        }

        function toggleWindow(windowId) {
            const window = document.getElementById(windowId);
            const taskbarBtn = document.getElementById(windowId.replace('-window', '-btn'));

            if (window.classList.contains('minimized')) {
                window.classList.remove('minimized');
                taskbarBtn.classList.add('active');
                // Bring window to front when opened from taskbar
                bringWindowToFront(window);
            } else {
                window.classList.add('minimized');
                const titleBar = window.querySelector('.title-bar');
                if (titleBar) titleBar.classList.add('inactive');
                taskbarBtn.classList.remove('active');
            }
        }

        // Update taskbar button states
        function updateTaskbarButtons() {
            document.querySelectorAll('.window').forEach(window => {
                const windowId = window.id;
                const btnId = windowId.replace('-window', '-btn');
                const btn = document.getElementById(btnId);

                if (btn) {
                    if (window.classList.contains('minimized')) {
                        btn.classList.remove('active');
                    } else {
                        btn.classList.add('active');
                    }
                }
            });
        }

        // Loading screen animation
        function showLoadingScreen() {
            const loadingScreen = document.getElementById('loading-screen');
            const logo = document.querySelector('.ascii-logo');

            // Animate logo zoom in
            if (window.motionAnimate) {
                window.motionAnimate(logo,
                    { transform: ['scale(0.1)', 'scale(1)'] },
                    { duration: 2, easing: 'ease-out' }
                ).then(() => {
                    // Wait a moment then zoom out and fade away
                    setTimeout(() => {
                        window.motionAnimate(loadingScreen,
                            {
                                transform: ['scale(1)', 'scale(10)'],
                                opacity: [1, 0]
                            },
                            { duration: 0.8, easing: 'ease-in' }
                        ).then(() => {
                            loadingScreen.style.display = 'none';
                            updateTaskbarButtons();
                        });
                    }, 1000);
                });
            } else {
                // Fallback without motion library
                setTimeout(() => {
                    loadingScreen.style.transform = 'scale(10)';
                    loadingScreen.style.opacity = '0';
                    loadingScreen.style.transition = 'all 0.8s ease-in';
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                        updateTaskbarButtons();
                    }, 800);
                }, 2000);
            }
        }

        // Error dialog functionality
        function showErrorDialog() {
            const errorMessages = [
                "This program has performed an illegal operation and will be shut down.\n\nIf the problem persists, contact your system administrator.",
                "Cannot find 'motivation.exe'.\n\nPlease check if the file exists and try again.",
                "Fatal Error: Coffee levels critically low.\n\nPlease refuel and restart the system.",
                "404: Productivity not found.\n\nHave you tried turning it off and on again?",
                "Access Denied: You do not have permission to be this productive.\n\nContact your procrastination administrator.",
                "Runtime Error: Infinite loop detected in 'fix_bugs()' function.\n\nSuggestion: Add more coffee.",
                "Memory leak detected: All available motivation has been consumed.\n\nConsider downloading more RAM... and coffee."
            ];

            const randomMessage = errorMessages[Math.floor(Math.random() * errorMessages.length)];

            const dialog = document.createElement('div');
            dialog.className = 'error-dialog';
            dialog.innerHTML = `
                <div class="title-bar">
                    <div class="title-bar-text">System Error</div>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: #c0c0c0; border: 1px outset #c0c0c0; width: 16px; height: 14px; font-size: 11px; line-height: 1;">×</button>
                </div>
                <div class="dialog-body">
                    <div class="error-icon">!</div>
                    <div>
                        <div style="margin-bottom: 15px;">${randomMessage.replace(/\\n/g, '<br>')}</div>
                        <button onclick="this.closest('.error-dialog').remove()" style="padding: 4px 16px; margin-left: auto; display: block;">OK</button>
                    </div>
                </div>
            `;

            document.body.appendChild(dialog);

            // Add sound effect if available (optional - browsers may not support it)
            try {
                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFApGn+DyvmgmBjiIzO/LeywELYPH8NuQQAoQYrPl6qZVFA==');
                audio.play().catch(() => {}); // Ignore if audio fails
            } catch (e) {}
        }

        // Window dragging functionality
        let draggedWindow = null;
        let dragOffset = { x: 0, y: 0 };

        function bringWindowToFront(window) {
            // Remove all windows from front and add inactive class to title bars
            document.querySelectorAll('.window').forEach(w => {
                w.style.zIndex = '1';
                const titleBar = w.querySelector('.title-bar');
                if (titleBar) titleBar.classList.add('inactive');
            });
            // Bring clicked window to front and remove inactive class from title bar
            window.style.zIndex = '100';
            const titleBar = window.querySelector('.title-bar');
            if (titleBar) titleBar.classList.remove('inactive');
        }

        function initWindowDragging() {
            const windows = document.querySelectorAll('.window');
            const apiDialog = document.getElementById('api-key-dialog');

            // Add API dialog to draggable elements
            const draggableElements = [...windows, apiDialog];

            draggableElements.forEach(element => {
                const titleBar = element.querySelector('.title-bar');

                // Bring window to front on any click
                element.addEventListener('mousedown', (e) => {
                    bringWindowToFront(element);
                });

                titleBar.addEventListener('mousedown', (e) => {
                    if (element.style.position === 'static') return; // Skip dragging on mobile

                    draggedWindow = element;
                    element.classList.add('dragging');

                    bringWindowToFront(element);

                    const rect = element.getBoundingClientRect();
                    dragOffset.x = e.clientX - rect.left;
                    dragOffset.y = e.clientY - rect.top;

                    e.preventDefault();
                });
            });

            document.addEventListener('mousemove', (e) => {
                if (!draggedWindow) return;

                const desktop = document.querySelector('.desktop');
                const desktopRect = desktop.getBoundingClientRect();
                const windowRect = draggedWindow.getBoundingClientRect();

                let newX = e.clientX - desktopRect.left - dragOffset.x;
                let newY = e.clientY - desktopRect.top - dragOffset.y;

                // Keep window within desktop bounds
                newX = Math.max(0, Math.min(newX, desktopRect.width - windowRect.width));
                newY = Math.max(0, Math.min(newY, desktopRect.height - windowRect.height));

                draggedWindow.style.left = newX + 'px';
                draggedWindow.style.top = newY + 'px';
            });

            document.addEventListener('mouseup', () => {
                if (draggedWindow) {
                    draggedWindow.classList.remove('dragging');
                    draggedWindow = null;
                }
            });
        }

        // Load todos from embedded data (to avoid CORS issues)
        async function fetchTodos() {
            return [
              {
                "name": "Move all the OSS project to RmV org.",
                "description": "Better to have all the OSS project in one place.",
                "project": "all",
                "link": "https://github.com/results-may-vary-org/",
                "priority": "high",
                "tag": "org"
              },
              {
                "name": "Make a first release for Tape!",
                "description": "Build the first release for Tape, a simple and opinionated mk editor.",
                "project": "tape",
                "link": "https://github.com/results-may-vary-org/tape",
                "priority": "high",
                "tag": "new stuff"
              },
                {
                    "name": "Try to get all window via kwin script",
                    "description": "Try to make the plugin get all is data via a dbus signal or something similar.",
                    "project": "blurred wallpaper",
                    "link": "https://github.com/bouteillerAlan/blurred-wallpaper",
                    "priority": "middle",
                    "tag": "feature"
                },
              {
                "name": "Rewrite Postier w/ Wails",
                "description": "I'm more into go than rust, so I'm going to rewrite Postier with Wails.",
                "project": "postier",
                "link": "https://github.com/bouteillerAlan/postier",
                "priority": "low",
                "tag": "improvement"
              }
            ];
        }

        // Clock function
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toLocaleTimeString();
        }
        setInterval(updateClock, 1000);
        updateClock();

        // Procrastination level calculator
        function calculateProcrastination() {
            const levels = ['Legendary', 'Mythical', 'Transcendent', 'PhD-level', 'Professional'];
            return levels[Math.floor(Math.random() * levels.length)];
        }

        // Load todos with realistic delay for dramatic effect
        async function loadTodos() {
            setTimeout(async () => {
                document.getElementById('procrastination').textContent = calculateProcrastination();
                document.getElementById('last-commit').textContent = 'Recently';

                const todoList = document.getElementById('todo-list');
                todoList.innerHTML = '';

                const todos = await fetchTodos();
                // Update todo count
                document.getElementById('todo-count').textContent = todos.length;

                todos.forEach(todo => {
                    const todoElement = document.createElement('div');
                    todoElement.className = 'todo-item';
                    todoElement.innerHTML = `
                        <strong>${todo.name}</strong><br>
                        <div style="margin: 5px 0; font-size: 12px;">${todo.description}</div>
                        <div class="todo-meta">
                            Project: <a href="${todo.link}" target="_blank">${todo.project}</a>
                            ${todo.priority ? `| Priority: ${todo.priority}` : ''}
                            ${todo.tag ? `| Tag: ${todo.tag}` : ''}
                        </div>
                    `;
                    todoElement.addEventListener('click', () => {
                        if (todo.link !== '#') {
                            window.open(todo.link, '_blank');
                        }
                    });
                    todoList.appendChild(todoElement);
                });
            }, 2000);
        }

        // Repository data - your actual repos
        const repositoryList = [
            'results-may-vary-org/surf',
            'results-may-vary-org/tape',
            'results-may-vary-org/see',
            'results-may-vary-org/tape-bin',
            'bouteillerAlan/blurredwallpaper',
            'bouteillerAlan/archupdate',
            'bouteillerAlan/earbud-companion',
            'bouteillerAlan/kuro',
            'bouteillerAlan/dracut-numlock',
            'bouteillerAlan/postier',
            'bouteillerAlan/docker-companion',
            'bouteillerAlan/plasma6-wallpapers-blurredwallpaper-git',
            'bouteillerAlan/dockolor',
            'bouteillerAlan/grid',
            'results-may-vary-org/rmv-frontpage'
        ];

        // Add delay function to avoid GitHub rate limits
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Load repositories into the table
        async function loadRepositories() {
            setTimeout(async () => {
                const tbody = document.getElementById('repos-tbody');
                const progressDiv = document.getElementById('repo-progress');
                const currentSpan = document.getElementById('repo-current');
                const totalSpan = document.getElementById('repo-total');

                tbody.innerHTML = '';

                // Show progress indicator
                progressDiv.style.display = 'block';
                totalSpan.textContent = repositoryList.length;
                currentSpan.textContent = '0';

                for (let i = 0; i < repositoryList.length; i++) {
                    const repo = repositoryList[i];

                    // Stop if we hit rate limit
                    if (isRateLimited) {
                        console.log('Stopping repository loading due to rate limit');
                        break;
                    }

                    // Update progress
                    currentSpan.textContent = (i + 1).toString();

                    try {
                        // Add delay between each API call to avoid rate limits
                        if (i > 0) {
                            await delay(500);
                        }

                        const response = await makeGitHubRequest(`https://api.github.com/repos/${repo}`);
                        const repoData = await response.json();

                        const issuesResponse = await makeGitHubRequest(`https://api.github.com/repos/${repo}/issues?state=open`);
                        const issues = await issuesResponse.json();
                        const issueCount = Array.isArray(issues) ? issues.length : 0;

                        const status = repoData.archived ? 'Archived' :
                                     repoData.private ? 'Private' : 'Public';

                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${repo.split('/')[1]}</td>
                            <td style="text-align: center;">${issueCount}</td>
                            <td style="text-align: center;">${repoData.stargazers_count || 0}</td>
                            <td style="text-align: center;">${repoData.forks_count || 0}</td>
                            <td>${status}</td>
                        `;

                        row.addEventListener('click', () => {
                            window.open(`https://github.com/${repo}`, '_blank');
                        });

                        tbody.appendChild(row);
                    } catch (error) {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${repo.split('/')[1]}</td>
                            <td style="text-align: center;">?</td>
                            <td style="text-align: center;">?</td>
                            <td style="text-align: center;">?</td>
                            <td>Error</td>
                        `;
                        tbody.appendChild(row);
                    }
                }

                // Hide progress indicator when done
                progressDiv.style.display = 'none';
            }, 1500);
        }

        // Initialize table interactions
        function initTableInteractions() {
            document.querySelectorAll('table.interactive').forEach(element => {
                element.addEventListener('click', (event) => {
                    const highlightedClass = 'highlighted';
                    const isRow = element => element.tagName === 'TR' && element.parentElement.tagName === 'TBODY';
                    const newlySelectedRow = event.composedPath().find(isRow);
                    const previouslySelectedRow = Array.from(newlySelectedRow.parentElement.children).filter(isRow).find(element => element.classList.contains(highlightedClass));

                    if(previouslySelectedRow){
                        previouslySelectedRow.classList.toggle(highlightedClass);
                    }

                    if (newlySelectedRow) {
                        newlySelectedRow.classList.toggle(highlightedClass);
                    }
                });
            });
        }

        // Fetch GitHub issues (you'll need to replace with your actual repos)
        async function loadGitHubIssues() {
            const repos = repositoryList;

            setTimeout(async () => {
                const issueList = document.getElementById('issue-list');
                const progressDiv = document.getElementById('issues-progress');
                const currentSpan = document.getElementById('issues-current');
                const totalSpan = document.getElementById('issues-total');

                issueList.innerHTML = '';

                // Show progress indicator
                progressDiv.style.display = 'block';
                totalSpan.textContent = repos.length;
                currentSpan.textContent = '0';

                try {
                    for (let i = 0; i < repos.length; i++) {
                        const repo = repos[i];

                        // Stop if we hit rate limit
                        if (isRateLimited) {
                            console.log('Stopping issues loading due to rate limit');
                            break;
                        }

                        // Update progress
                        currentSpan.textContent = (i + 1).toString();

                        // Add delay between each API call to avoid rate limits
                        if (i > 0) {
                            await delay(500);
                        }

                        const response = await makeGitHubRequest(`https://api.github.com/repos/${repo}/issues?state=open&per_page=5`);
                        const issues = await response.json();

                        issues.forEach(issue => {
                            const issueElement = document.createElement('div');
                            issueElement.className = 'issue-item';
                            issueElement.innerHTML = `
                                <strong>#${issue.number}: ${issue.title}</strong><br>
                                <div style="margin: 5px 0; font-size: 12px;">${issue.body ? issue.body.substring(0, 100) + '...' : 'No description (because why make life easy?)'}</div>
                                <div class="todo-meta">
                                    Repo: ${repo} | Created: ${new Date(issue.created_at).toLocaleDateString()}
                                </div>
                            `;
                            issueElement.addEventListener('click', () => {
                                window.open(issue.html_url, '_blank');
                            });
                            issueList.appendChild(issueElement);
                        });
                    }
                } catch (error) {
                    issueList.innerHTML = `<div class="loading">
                        GitHub API is giving me the silent treatment (probably rate limited)
                    </div>`;
                }

                // Hide progress indicator when done
                progressDiv.style.display = 'none';
                // Update issue count
                const totalIssues = issueList.querySelectorAll('.issue-item').length;
                document.getElementById('issue-count').textContent = totalIssues;
            }, 3000);
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            // Show loading screen first
            showLoadingScreen();

            // Initialize other components after a brief delay
            setTimeout(() => {
                initWindowDragging();
                initTableInteractions();
                loadTodos();
                loadGitHubIssues();
                loadRepositories();

                // Initialize window states - set all but the first visible window title bars as inactive
                const windows = document.querySelectorAll('.window:not(.minimized):not([style*="display: none"])');
                windows.forEach((window, index) => {
                    if (index > 0) {
                        const titleBar = window.querySelector('.title-bar');
                        if (titleBar) titleBar.classList.add('inactive');
                    }
                });
            }, 500);
        });

        // Add cursor effect
        window.addEventListener("load", (event) => {
            new cursoreffects.clockCursor();
        });

    </script>
</body>
</html>
